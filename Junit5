import static org.junit.jupiter.api.Assertions.assertEquals;

import org.junit.jupiter.api.Test;

class AlarmRepositoryImplTest {

    @Test
    void testCreateAlarm_perceivedSeverityNull_stateValueCleared() {
        // Setup
        AlarmRepositoryImpl alarmRepositoryImpl = new AlarmRepositoryImpl();
        
        // Test data
        String msg = "{\"externalAlarmId\": \"12345\", \"sourceSystemId\": \"System A\", \"alarmType\": \"Type A\", \"State\": \"Cleared\"}";
        
        // Execute
        Alarm alarm = alarmRepositoryImpl.createAlarm(msg);
        
        // Verify
        assertEquals(-1, alarm.getPerceivedSeverity());
    }
    
    @Test
    void testCreateAlarm_perceivedSeverityNotEmpty_stateValueNotCleared() {
        // Setup
        AlarmRepositoryImpl alarmRepositoryImpl = new AlarmRepositoryImpl();
        
        // Test data
        String msg = "{\"externalAlarmId\": \"12345\", \"sourceSystemId\": \"System A\", \"alarmType\": \"Type A\", \"State\": \"New\", \"perceivedSeverity\": \"Critical\"}";
        
        // Execute
        Alarm alarm = alarmRepositoryImpl.createAlarm(msg);
        
        // Verify
        assertEquals(1, alarm.getPerceivedSeverity());
    }
    
    // Add more test cases for other scenarios
    
}