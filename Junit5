@Test
void testEntityManagerFactoryBean() {
    //given
    DataSourceModal dataSourceModal = new DataSourceModal();
    dataSourceModal.setUsername("test");
    dataSourceModal.setPassword("test");
    dataSourceModal.setUrl("test");
    dataSourceModal.setDriver("test");
    
    DataSource dataSource = new DriverManagerDataSource();
    ((DriverManagerDataSource) dataSource).setUrl("test");
    
    EntityManagerFactoryBuilder builder = mock(EntityManagerFactoryBuilder.class);
    given(builder.dataSource(any(DataSource.class))).willReturn(builder);
    given(builder.packages(any(String[].class))).willReturn(builder);
    
    //when
    DataSourceConfig dataSourceConfig = new DataSourceConfig();
    dataSourceConfig.setDataSourceModal(dataSourceModal);
    LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = dataSourceConfig.entityManagerFactoryBean(builder, dataSource);
    
    //then
    assertNotNull(entityManagerFactoryBean);
}
