// Assuming you have access to CollectionAuditService in SpaceCollector

@Service
public class SpaceCollectorService {

    private final CollectionAuditService collectionAuditService;

    @Autowired
    public SpaceCollectorService(CollectionAuditService collectionAuditService) {
        this.collectionAuditService = collectionAuditService;
    }

    public SpaceCollectorData getSpaceCollectorData(String host) {
        // Fetch CollectionAudit data for the specified host
        CollectionAudit lastSuccessfulCollectionAudit = collectionAuditService.getLastSuccessfulCollectionAuditByHost(host);

        // Here you can process the CollectionAudit data and create SpaceCollectorData object
        SpaceCollectorData spaceCollectorData = new SpaceCollectorData();
        spaceCollectorData.setHost(host);
        spaceCollectorData.setLastSuccessfulCollection(lastSuccessfulCollectionAudit.getLastSuccessfulCollection());
        spaceCollectorData.setLastSuccessfulTransformation(lastSuccessfulCollectionAudit.getLastSuccessfulTransformation());
        
        // Return the SpaceCollectorData object
        return spaceCollectorData;
    }
}
