import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.jupiter.api.Test;
import static org.assertj.core.api.Assertions.assertThat;

public class AlarmRepositoryImplTest {

    private final AlarmRepositoryImpl repository = new AlarmRepositoryImpl();
    private final ObjectMapper objectMapper = new ObjectMapper();

    @Test
    void getArrayValueForTags_InvalidJsonArray_ReturnsEmptyArray() throws Exception {
        // Create a JSON node with an invalid JSON array value (unquoted elements)
        JsonNode jsonNode = objectMapper.readTree("{ \"tags\": \"[WLS]\" }");
        
        String[] result = repository.getArrayValueForTags(jsonNode, "tags");
        
        // Verify the catch block returns an empty array
        assertThat(result).isEmpty();
    }
}