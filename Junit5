import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.*;
import static org.mockito.Mockito.*;

public class MtnInsightsManagerTest {

    MtnInsightsManager manager;

    @Test
    public void testConvertToMtnInsights() {
        List<MtnInsightsEntity> entities = new ArrayList<>();
        // Add test data to entities

        // Mock dependencies if needed
        MtnInsightsRepository insightsRepository = mock(MtnInsightsRepository.class);
        AggregateInsightsRepository aggrInsightRepository = mock(AggregateInsightsRepository.class);
        EcpdByKeyRepository ecpdByKeyRepository = mock(EcpdByKeyRepository.class);
        MtnInsightsValidator validator = mock(MtnInsightsValidator.class);

        // Set up the manager with mocked dependencies
        manager = new MtnInsightsManager();
        manager.setInsightsRepository(insightsRepository);
        manager.setAggrInsightRepository(aggrInsightRepository);
        manager.setEcpdByKeyRepository(ecpdByKeyRepository);
        manager.setValidator(validator);

        // Set up required values for test coverage
        String insightCategory = "INSIGHT_CATEGORY_NETWORK_OUTAGE";
        boolean flag = true; // or false as per test requirements

        InsightsMtn result = manager.convertToMtnInsights(entities, flag);

        // Add assertions based on the logic covered by if statements
        // For example, you could check if certain conditions are met in the result
        assertNotNull(result);
    }
}