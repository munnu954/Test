import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.mockito.Mockito.*;

import org.junit.jupiter.api.Test;

class AlarmRepositoryImplTest {

    @Test
    void testPostAlarmForEachIteration_SetExternalAlarmId() {
        // Mock necessary dependencies
        ResultSet rs = mock(ResultSet.class);
        when(rs.getString("externalalarmid")).thenReturn("external_alarm_123");

        Alarm alarm = new Alarm();
        alarm.setExternalAlarmId(null); // Set external alarm id to null to simulate the scenario

        AlarmRepositoryImpl alarmRepository = new AlarmRepositoryImpl();
        
        // Call the method under test
        alarmRepository.postAlarmForEachIteration(alarm, "compId");

        // Assert that external alarm id is set properly
        assertEquals("external_alarm_123", alarm.getExternalAlarmId());
    }
}