@Test
void testMergeArrayMethod() throws Exception {
    // Arrange
    Object tagFromDb = new String[]{"tag1", "tag2"};
    Alarm alarm = new Alarm();
    alarm.setTag(new String[]{"tag3", "tag4"});
    
    Method mergeArrayMethod = AlarmRepositoryImpl.class.getDeclaredMethod("mergeArrayMethod", Object.class, Alarm.class);
    mergeArrayMethod.setAccessible(true);
    AlarmRepositoryImpl alarmRepository = new AlarmRepositoryImpl();
    
    // Act
    Set<String> result = (Set<String>) mergeArrayMethod.invoke(alarmRepository, tagFromDb, alarm);
    
    // Assert
    assertTrue(result.contains("tag1"));
    assertTrue(result.contains("tag2"));
    assertTrue(result.contains("tag3"));
    assertTrue(result.contains("tag4"));
}

@Test
void testMergeArrayMethodWithNullTagFromDb() throws Exception {
    // Arrange
    Object tagFromDb = null;
    Alarm alarm = new Alarm();
    alarm.setTag(new String[]{"tag3", "tag4"});
    
    Method mergeArrayMethod = AlarmRepositoryImpl.class.getDeclaredMethod("mergeArrayMethod", Object.class, Alarm.class);
    mergeArrayMethod.setAccessible(true);
    AlarmRepositoryImpl alarmRepository = new AlarmRepositoryImpl();
    
    // Act
    Set<String> result = (Set<String>) mergeArrayMethod.invoke(alarmRepository, tagFromDb, alarm);
    
    // Assert
    assertFalse(result.isEmpty());
    assertTrue(result.contains("tag3"));
    assertTrue(result.contains("tag4"));
}