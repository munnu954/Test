import static org.junit.jupiter.api.Assertions.*;

import java.io.IOException;
import java.util.List;

import org.junit.jupiter.api.Test;
import org.mockito.InjectMocks;
import org.mockito.Mock;
import org.mockito.Mockito;
import org.springframework.test.util.ReflectionTestUtils;

class CsvReaderTest 

  @Mock
  private FileService fileService;

  @InjectMocks
  private CsvReader csvReader;

  @Test
  void testReadCsv() throws IOException 
    String mockFilePath = "/path/to/input/file";
    String[] row1 = "1", "John";
    String[] row2 = "2", "Jane";
    List<String[]> mockRows = List.of(row1, row2);
    
    Mockito.when(fileService.readCsv(mockFilePath)).thenReturn(mockRows);
    
    ReflectionTestUtils.setField(csvReader, "fileService", fileService);
    
    List<String[]> rows = csvReader.readCsv(mockFilePath);
    
    assertEquals(2, rows.size());
    assertArrayEquals(row1, rows.get(0));
    assertArrayEquals(row2, rows.get(1));