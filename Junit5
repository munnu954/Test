import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.*;
import org.mockito.Mockito;

public class MtnInsightsValidatorTest {

    @Test
    public void testValidate_InsertMtnInsights() {
        MtnInsightsValidator mtnInsightsValidator = new MtnInsightsValidator();
        MtnInsightsRequest request = Mockito.mock(MtnInsightsRequest.class);
        ServiceHeader serviceHeader = Mockito.mock(ServiceHeader.class);
        
        Mockito.when(request.getServiceHeader()).thenReturn(serviceHeader);
        Mockito.when(request.getRequestType()).thenReturn(InsightsRequestType.INSERTMTNINSIGHTS);
        
        assertDoesNotThrow(() -> mtnInsightsValidator.validate(request));
    }

    @Test
    public void testValidateIterator_KeyAttributes() {
        MtnInsightsValidator mtnInsightsValidator = new MtnInsightsValidator();
        MtnInsightsAttributes mtnInsightsAttributes = Mockito.mock(MtnInsightsAttributes.class);
        
        Mockito.when(mtnInsightsAttributes.getMtn()).thenReturn("12345");
        Mockito.when(mtnInsightsAttributes.getInsightCategory()).thenReturn("Category");
        Mockito.when(mtnInsightsAttributes.getInsightName()).thenReturn("Name");
        Mockito.when(mtnInsightsAttributes.getOutageId()).thenReturn("Outage123");
        Mockito.when(mtnInsightsAttributes.getEcpdId()).thenReturn("Ecpd123");
        
        assertDoesNotThrow(() -> mtnInsightsValidator.validateIterator(null, mtnInsightsAttributes, "KeyAttributes"));
    }

    @Test
    public void testValidate_SearchRequest() {
        MtnInsightsValidator mtnInsightsValidator = new MtnInsightsValidator();
        MtnInsightsSearchRequest searchRequest = Mockito.mock(MtnInsightsSearchRequest.class);
        ServiceHeader serviceHeader = Mockito.mock(ServiceHeader.class);
        MtnInsightsSearchParam searchParam = Mockito.mock(MtnInsightsSearchParam.class);
        
        Mockito.when(searchRequest.getServiceHeader()).thenReturn(serviceHeader);
        Mockito.when(searchRequest.getServiceRequest()).thenReturn(searchParam);
        Mockito.when(serviceHeader.getClientId()).thenReturn("12345");
        Mockito.when(searchParam.getMtn()).thenReturn("Mtn123");
        Mockito.when(searchParam.getEcpdId()).thenReturn("Ecpd123");
        Mockito.when(searchParam.getInsightCategory()).thenReturn(new String[]{"Category"});
        Mockito.when(searchParam.getInsightName()).thenReturn(new String[]{"Name"});
        
        assertDoesNotThrow(() -> mtnInsightsValidator.validate(searchRequest));
    }
}