private String queryBasedOnParameter(Map<String, Object> queryParams) {
    String query = "";
    StringJoiner finalQuery = new StringJoiner("");

    if(queryParams.containsKey("locationCLLI")) {
        finalQuery.add(" site.clli_code = lower(:locationCLLI) OR site.clli_code = upper(:locationCLLI)");
    }

    if(queryParams.containsKey("siteName")) {
        finalQuery.add(" site.site_name = :siteName");
    }

    // Both locationCLLI and siteName are present in the queryParams
    if(queryParams.containsKey("locationCLLI") && queryParams.containsKey("siteName")) {
        finalQuery.add(" site.clli_code = lower(:locationCLLI) OR site.clli_code = upper(:locationCLLI)");
        finalQuery.add(" AND");
        finalQuery.add(" site.site_name = :siteName");
    }

    // Append the existing conditions if locationCLLI or siteName were not provided
    if(finalQuery.length() == 0) {
        finalQuery.add(coconutDeviceMSConstants.COCONUT_V3_SITE_QUERY);
    }

    return finalQuery.toString();
}