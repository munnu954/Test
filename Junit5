import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;
import org.mockito.InjectMocks;
import org.mockito.junit.jupiter.MockitoExtension;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

import javax.xml.bind.JAXBException;
import javax.xml.bind.annotation.XmlRootElement;

import static org.junit.jupiter.api.Assertions.assertThrows;
import static org.mockito.Mockito.*;

@ExtendWith(MockitoExtension.class)
public class BatchLoaderUtilsTest {

    private static final Logger LOGGER = LoggerFactory.getLogger(BatchLoaderUtilsTest.class);

    @InjectMocks
    private BatchLoaderUtils batchLoaderUtils;

    @Test
    public void testConvertToObject_JAXBException() {
        String invalidXml = "<invalid><xml></invalid>"; // Invalid XML to trigger JAXBException

        assertThrows(JAXBException.class, () -> {
            batchLoaderUtils.convertToObject(invalidXml, TestClass.class);
        });

        // Verify that the logger was called with the expected message
        verify(LOGGER).error(eq("Unable to convert - "), any(JAXBException.class));
    }

    @XmlRootElement
    public static class TestClass {
        // Define fields and methods as needed
    }
}
