import org.junit.jupiter.api.Test;

import java.lang.reflect.InvocationTargetException;
import java.lang.reflect.Method;
import java.util.HashMap;
import java.util.List;

import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertTrue;

public class AlarmOperationsAPITest {

    @Test
    public void testGetTopologyTraversalObjectsList() throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {
        // Given
        AlarmOperationsAPI alarmOperationsAPI = new AlarmOperationsAPI();
        String responseString = "{\"topologyObjects\":[{\"objectName\":\"Object1\"},{\"objectName\":\"Object2\"}]}";
        HashMap<String, Object> alarmTagValueMap = new HashMap<>();

        Method method = AlarmOperationsAPI.class.getDeclaredMethod("getTopologyTraversalObjectsList", String.class, HashMap.class);
        method.setAccessible(true);

        // When
        Object result = method.invoke(alarmOperationsAPI, responseString, alarmTagValueMap);

        // Then
        assertTrue(result instanceof List);
        List<String> resultList = (List<String>) result;
        assertEquals(2, resultList.size());
        assertTrue(resultList.contains("Object1"));
        assertTrue(resultList.contains("Object2"));
    }
}