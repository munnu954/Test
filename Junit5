java
private String queryBasedOnParameter(Map<String, Object> queryParams) {
  String query = "";
  StringJoiner finalQuery = new StringJoiner("");

  if("LOCATION".equalsIgnoreCase((String) queryParams.get("outputControl"))) {
    finalQuery.add(coconutDeviceMSConstants.COCONUT_V3_SITE_QUERY);

    if (queryParams.containsKey("locationCLLI") && queryParams.get("locationCLLI") != null) {
      finalQuery.add(" AND LOCATION_CLLI = '" + queryParams.get("locationCLLI") + "'");
    }

    if (queryParams.containsKey("siteName") && queryParams.get("siteName") != null) {
      finalQuery.add(" AND SITE_NAME = '" + queryParams.get("siteName") + "'");
    }
  }

  return finalQuery.toString();
}