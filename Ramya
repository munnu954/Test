Feature: Get Audit Status Map
  As a user
  I want to retrieve the latest audit statuses for a list of files
  So that I can see the current status of each file

  Background:
    Given a mock Lucence Collection Audit Repository

  Scenario: Empty file list
    Given an empty list of files
    When the user requests the audit status map
    Then the audit status map should be empty
    And the repository should not be called

  Scenario: Less than 1000 files
    Given a list of 500 files
    And each file has a corresponding audit status
    When the user requests the audit status map
    Then the audit status map should contain 500 entries
    And each entry should have a status of "STATUS"
    And the repository should be called once

  Scenario: Exactly 1000 files
    Given a list of 1000 files
    And each file has a corresponding audit status
    When the user requests the audit status map
    Then the audit status map should contain 1000 entries
    And each entry should have a status of "STATUS"
    And the repository should be called once

  Scenario: More than 1000 files
    Given a list of 1500 files
    And each file has a corresponding audit status
    When the user requests the audit status map
    Then the audit status map should contain 1500 entries
    And each entry should have a status of "STATUS"
    And the repository should be called twice
