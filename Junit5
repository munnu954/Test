@Test
public void testTriggerJob_SuccessfulSubmission() {
    // Prepare test data
    // (data setup remains the same as in the initial code)

    // Mock external dependencies
    when(restTemplate.postForEntity(anyString(), any(), eq(String.class)))
            .thenReturn(successResponse);
    when(successResponse.getStatusCode()).thenReturn(HttpStatus.OK);
    when(successResponse.getBody()).thenReturn("{\"jobid\":\"12345\"}");

    // Execute the method
    String result = flinkApiController.triggerJob(auditMsg, fileType);

    // Verify the results
    verify(kafkaAuditProducer).createMessageAndLog(
            eq(inputFilePath),
            eq(url),
            eq(port),
            eq(outputFilePath),
            eq(fileType),
            any(),
            eq(noOfRecordsInFile),
            eq(noOfRecordsProcessed),
            eq(noOfRecordsFailed),
            eq(jobId),
            eq(jarId),
            eq(collectorId),
            eq(exceptions),
            eq(jobStatus)
    );
    verify(flinkApiController).updateJobStatus(auditMsg, "12345");
    assertEquals("Job submitted", result);
}