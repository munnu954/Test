import com.jcraft.jsch.ChannelSftp;
import com.jcraft.jsch.ChannelSftp.LsEntry;

private List<LsEntry> convertToLsEntries(List<SftpFile> sftpFiles) {
    List<LsEntry> lsEntries = new ArrayList<>();
    for (SftpFile sftpFile : sftpFiles) {
        ChannelSftp.LsEntry lsEntry = mock(ChannelSftp.LsEntry.class);
        when(lsEntry.getFilename()).thenReturn(sftpFile.getFilename());
        SftpATTRS attrs = mock(SftpATTRS.class);
        when(attrs.isDir()).thenReturn(sftpFile.isDirectory());
        when(lsEntry.getAttrs()).thenReturn(attrs);
        lsEntries.add(lsEntry);
    }
    return lsEntries;
}
