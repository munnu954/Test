private String queryBasedOnParameter(Map<String, Object> queryParams) {
    String query = "";
    StringJoiner finalQuery = new StringJoiner("");
    
    if("LOCATION".equalsIgnoreCase((String) queryParams.get("outputControl"))) {
        finalQuery.add(coconutDeviceMSConstants.COCONUT_V3_SITE_QUERY);
    }
    
    if(queryParams.containsKey("locationCLLI") && !"%".equalsIgnoreCase((String) queryParams.get("locationCLLI"))) {
        finalQuery.add(" AND locationCLLI = '" + queryParams.get("locationCLLI") + "'");
    }
    
    if(queryParams.containsKey("siteName") && !"%".equalsIgnoreCase((String) queryParams.get("siteName"))) {
        finalQuery.add(" AND siteName = '" + queryParams.get("siteName") + "'");
    }
    
    return finalQuery.toString();
}