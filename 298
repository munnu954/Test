import com.google.gson.Gson;

public void writeLogToFile(FileMetadata metadata, String destinationFolderPath) {
    String logFilePath = destinationFolderPath + "/log.txt";
    try (FileWriter fileWriter = new FileWriter(logFilePath, true)) {
        Gson gson = new Gson();
        String jsonMetadata = gson.toJson(metadata);
        fileWriter.write(jsonMetadata);
        fileWriter.write(System.lineSeparator());
        fileWriter.flush();
    } catch (IOException e) {
        LOGGER.error("Error writing log to file", e);
    }
}