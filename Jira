I see that you're facing an error in your code related to the method `add()` being undefined for the type `ConsumerRecords<String, String>`. To fix this issue, you can try the following solution:

```java
import org.apache.kafka.clients.consumer.ConsumerRecord;
import org.apache.kafka.clients.consumer.ConsumerRecords;
import static org.mockito.Mockito.*;

import java.time.Duration;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

@Test
public void testKafkaConsumer() {
  // Mock consumer record
  ConsumerRecord<String, String> record = mock(ConsumerRecord.class);
  when(record.topic()).thenReturn("topic");
  when(record.offset()).thenReturn(0L);
  when(record.partition()).thenReturn(0);
  when(record.key()).thenReturn("key");
  when(record.value()).thenReturn("value");

  // Build the mock consumer records with the mock record
  List<ConsumerRecord<String, String>> recordList = new ArrayList<>();
  recordList.add(record);

  Map<String, ConsumerRecords<String, String>> recordsMap = new HashMap<>();
  recordsMap.put("topic", new ConsumerRecords<>(recordsMap));

  ConsumerRecords<String, String> records = new ConsumerRecords<>(recordsMap);

  when(consumer.poll(any(Duration.class))).thenReturn(records);

  consumer.poll(Duration.ofMillis(100));

  verify(consumer, times(1)).poll(Duration.ofMillis(100));
}
```

In the updated code, I've made the following changes:

1. Added the generic types `<String, String>` to the `ConsumerRecord` and `ConsumerRecords` declarations.
2. Corrected the instantiation of `ArrayList` and `HashMap` by adding the parentheses `()` after their constructors' name.
3. Created a `recordList` to hold the mock `ConsumerRecord`.
4. Created a `recordsMap` to store the `recordList` under the "topic" key.
5. Created an instance of `ConsumerRecords` using the `recordsMap`.
6. Passed the `records` object as the return value for `consumer.poll()` using the `thenReturn()` method.
7. Verified that `consumer.poll()` was called once with a duration of 100 milliseconds.

Please give this solution a try and let me know if it resolves your error.