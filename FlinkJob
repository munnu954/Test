The error "The method add(ConsumerRecord) is undefined for the type ConsumerRecords" occurs because the ConsumerRecords class does not have an add() method to add ConsumerRecord objects to it.

To fix this error, you can use the builder pattern to create an instance of ConsumerRecords with the ConsumerRecord object added to it. Here is the updated code for the testKafkaConsumer() method:

```
@Test
public void testKafkaConsumer() {
// Mock consumer record
ConsumerRecord record = mock(ConsumerRecord.class);
when(record.topic()).thenReturn("topic");
when(record.offset()).thenReturn(0L);
when(record.partition()).thenReturn(0);
when(record.key()).thenReturn("key");
when(record.value()).thenReturn("value");

// Build the mock consumer records with the mock record
ConsumerRecords records = 
ConsumerRecords.builder()
.setPollTimeout(Duration.ofMillis(100))
.add(record)
.build();

// Set up the behavior of the consumer
when(consumer.poll(any(Duration.class))).thenReturn(records);

// Call the consumer method
consumer.poll(Duration.ofMillis(100));

// Verify that the poll method was called once
verify(consumer, times(1)).poll(Duration.ofMillis(100));
}
```

Note that the ConsumerRecords class has a builder() method that returns a builder object which can be used to construct an instance of ConsumerRecords with the desired properties. The add() method is called on the builder object to add the ConsumerRecord object to the records.