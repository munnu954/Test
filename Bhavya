org.mockito.exceptions.misusing.CannotStubVoidMethodWithReturnValue:

'setHost' is a *void method and it cannot be stubbed with a *return value*!

Voids are usually stubbed with Throwables: doThrow (exception).when(mock).some VoidMethod();

If you need to set the void method to do nothing you can use: doNothing().when(mock).some VoidMethod();