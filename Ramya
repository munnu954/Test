import org.mockito.Mock;
import org.mockito.MockitoAnnotations;
import java.io.IOException;

public class NestedFilesValidationSteps {

    // Existing code

    @Mock
    private ZipUtil zipUtil;

    @Before
    public void setUp() throws Exception {
        MockitoAnnotations.openMocks(this);
        // Other setup code
    }

    @Given("the ZIP file {string} contains the following files")
    public void givenTheZIPFileContainsTheFollowingFiles(String zipFile, io.cucumber.datatable.DataTable dataTable) throws Exception {
        // Mock the ZIP file extraction
        List<String> nestedFiles = new ArrayList<>();
        for (Map<String, String> row : dataTable.asMaps()) {
            nestedFiles.add("/local/path/Sample/" + row.get("filename"));
        }

        doNothing().when(zipUtil).extractFile(anyString(), anyString());

        when(FileUtil.readFilesInDirectory(anyString())).thenReturn(nestedFiles);
        when(ZipUtil.isZipFile(anyString())).thenReturn(true);
    }

    // Remaining code
}
